{% extends 'base.html' %}
{% load humanize %}
{% load static %}
{% block title %}
    {{ title }}
{% endblock %}
{% block content %}
    <section class="media content-section">
        <div class="media-body">
            <div class="row">
                <div class="col-12">
                    <h3 class="mb-2 pt-2"><strong>{{ title }}</strong></h3>
                </div>
            </div>
        </div>
    </section>
    {% if records_exist %}
    <section class="media content-section">
        <div class="row">
            <div class="col-lg-6 pt-2">
                <h5>Record</h5>
            </div>
            <div class="col-lg-2 pt-2">
                <h5>Progress</h5>
            </div>
            <div class="col-lg-2 pt-2">
                <h5>Date</h5>
            </div>
        </div>
    </section>
    {% for record in reading_progress %}
    <section class="list-group-item list-group-item-light {% cycle 'row1' 'row2' %} text-CCL-Gold">
        <div class="row pt-2">
            <div class="col-lg-6">
                <p><a href="{% url 'library-record' record.record.id %}" class="text-CCL-Blue">{{ record.record }}</a></p>
            </div>
            <div class="col-lg-2">
                <p>{{ record.reading_progress }}</p>
            </div>
            <div class="col-lg-3">
                <p><strong>{% if record.reading_progress == '1) On Reading List' %}Added{% elif record.reading_progress == '2) Reading In Progress' %}Started{% elif record.reading_progress == '3) Completed Reading' %}Completed{% endif %}: </strong>{% if record.reading_progress == '1) On Reading List' %}{{ record.date_added }}{% elif record.reading_progress == '2) Reading In Progress' %}{{ record.date_started }}{% elif record.reading_progress == '3) Completed Reading' %}{{ record.date_completed }}{% endif %}</p>
            </div>
            <div class="col-lg-1 pt-2 pb-2 me-auto">
                <form action="{% url 'reading-list-delete' record.id %}" method="post">
                    {% csrf_token %}
                    <input type="submit" value="Remove" class="btn btn-danger btn-sm float-end">
                </form>
            </div>
        </div>
    </section>
    {% endfor %}
    {% else %}
    <section class="media content-section text-CCL-Gold">
        <div class="row">
            <div class="col-lg-12 pt-2">
                <h5>Your Reading List is currently empty.</h5>
                <p>You can add records to your Reading dist while logged in and updating your Reading Progress at the bottom of any Library Record.</p>
            </div>
        </div>
    </section>
    {% endif %}
    <div class="row">
        <div class="col-lg-12 pt-4">
        </div>
    </div>
    <section class="media content-section">
        <div class="row">
            <div class="col-lg-3 pb-2 pt-2">
                <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-outline-CCL-Blue col-12">Back</a>
            </div>
        </div>
    </section>
{% endblock content %}